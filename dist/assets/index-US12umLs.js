import{r as s,j as h,S as A}from"./index-hjmbtIam.js";const n={Once:"once",Loop:"loop",LoopAt:"loop_at",Reverse:"reverse",ReverseAt:"reverse_at"},x=25,F=({fps:c=x,images:e=[],className:S,variant:u,reverseAt:o=0,loopAt:E=0,onFinish:I,onLoaded:R})=>{const[f,d]=s.useState(0),[l,L]=s.useState(!1),[i,v]=s.useState(!1),[j,b]=s.useState(0),[a,k]=s.useState(!1);s.useEffect(()=>{a||j<e.length||(k(!0),R&&R())},[j,e.length,a,R]),s.useEffect(()=>{i&&I&&I()},[i,I]),s.useEffect(()=>{if(!i){switch(u){case n.ReverseAt:if(f<o)return;break;default:if(f<e.length-1)return;break}v(!0)}},[e.length,f,i,o,v,u]),s.useEffect(()=>{if(!e||!a||l)return;const t=setInterval(()=>{d(r=>{if(r<e.length-1)return r+1;switch(u){case n.Loop:return 0;case n.LoopAt:return E;case n.Reverse:case n.ReverseAt:return clearInterval(t),L(!0),r;default:return clearInterval(t),r}})},1e3/c);return()=>{clearInterval(t)}},[d,e,l,u,E,a,c]),s.useEffect(()=>{if(!e||!l)return;const t=setInterval(()=>{d(r=>{switch(u){case n.Reverse:if(r>0)return r-1;break;case n.ReverseAt:if(r>=o)return r-1;break}return clearInterval(t),L(!1),r})},1e3/c);return()=>{clearInterval(t)}},[l,e,o,u,c]);const w=()=>{b(t=>++t)};return h.jsxs(h.Fragment,{children:[e&&e.map(t=>h.jsx("img",{className:`info-img ${S||void 0} ${a&&t===e[f]?"show":""}`,src:t,onLoad:w},t)),!a&&h.jsx(A,{})]})};export{F as I,n as a};
